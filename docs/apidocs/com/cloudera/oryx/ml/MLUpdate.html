<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MLUpdate (Oryx 2.2.1 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MLUpdate (Oryx 2.2.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":10,"i2":6,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MLUpdate.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/cloudera/oryx/ml/MLUpdate.html" target="_top">Frames</a></li>
<li><a href="MLUpdate.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.cloudera.oryx.ml</div>
<h2 title="Class MLUpdate" class="title">Class MLUpdate&lt;M&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.cloudera.oryx.ml.MLUpdate&lt;M&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>M</code> - type of message to read from the input topic</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/cloudera/oryx/api/batch/BatchLayerUpdate.html" title="interface in com.cloudera.oryx.api.batch">BatchLayerUpdate</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,M,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;, <a href="http://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../com/cloudera/oryx/app/batch/mllib/als/ALSUpdate.html" title="class in com.cloudera.oryx.app.batch.mllib.als">ALSUpdate</a>, <a href="../../../../com/cloudera/oryx/app/batch/mllib/kmeans/KMeansUpdate.html" title="class in com.cloudera.oryx.app.batch.mllib.kmeans">KMeansUpdate</a>, <a href="../../../../com/cloudera/oryx/app/batch/mllib/rdf/RDFUpdate.html" title="class in com.cloudera.oryx.app.batch.mllib.rdf">RDFUpdate</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">MLUpdate&lt;M&gt;</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../com/cloudera/oryx/api/batch/BatchLayerUpdate.html" title="interface in com.cloudera.oryx.api.batch">BatchLayerUpdate</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,M,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</pre>
<div class="block">A specialization of <a href="../../../../com/cloudera/oryx/api/batch/BatchLayerUpdate.html" title="interface in com.cloudera.oryx.api.batch"><code>BatchLayerUpdate</code></a> for machine learning-oriented
 update processes. This implementation contains the framework for test/train split
 for example, parameter optimization, and so on. Subclasses instead implement
 methods like <a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#buildModel-org.apache.spark.api.java.JavaSparkContext-org.apache.spark.api.java.JavaRDD-java.util.List-org.apache.hadoop.fs.Path-"><code>buildModel(JavaSparkContext,JavaRDD,List,Path)</code></a> to create a PMML model and
 <a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#evaluate-org.apache.spark.api.java.JavaSparkContext-org.dmg.pmml.PMML-org.apache.hadoop.fs.Path-org.apache.spark.api.java.JavaRDD-org.apache.spark.api.java.JavaRDD-"><code>evaluate(JavaSparkContext,PMML,Path,JavaRDD,JavaRDD)</code></a> to evaluate a model from
 held-out test data.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../serialized-form.html#com.cloudera.oryx.ml.MLUpdate">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#MODEL_FILE_NAME">MODEL_FILE_NAME</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#MLUpdate-com.typesafe.config.Config-">MLUpdate</a></span>(com.typesafe.config.Config&nbsp;config)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract org.dmg.pmml.PMML</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#buildModel-org.apache.spark.api.java.JavaSparkContext-org.apache.spark.api.java.JavaRDD-java.util.List-org.apache.hadoop.fs.Path-">buildModel</a></span>(org.apache.spark.api.java.JavaSparkContext&nbsp;sparkContext,
          org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;trainData,
          <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;?&gt;&nbsp;hyperParameters,
          org.apache.hadoop.fs.Path&nbsp;candidatePath)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#canPublishAdditionalModelData--">canPublishAdditionalModelData</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#evaluate-org.apache.spark.api.java.JavaSparkContext-org.dmg.pmml.PMML-org.apache.hadoop.fs.Path-org.apache.spark.api.java.JavaRDD-org.apache.spark.api.java.JavaRDD-">evaluate</a></span>(org.apache.spark.api.java.JavaSparkContext&nbsp;sparkContext,
        org.dmg.pmml.PMML&nbsp;model,
        org.apache.hadoop.fs.Path&nbsp;modelParentPath,
        org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;testData,
        org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;trainData)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/cloudera/oryx/ml/param/HyperParamValues.html" title="interface in com.cloudera.oryx.ml.param">HyperParamValues</a>&lt;?&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#getHyperParameterValues--">getHyperParameterValues</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#getTestFraction--">getTestFraction</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#publishAdditionalModelData-org.apache.spark.api.java.JavaSparkContext-org.dmg.pmml.PMML-org.apache.spark.api.java.JavaRDD-org.apache.spark.api.java.JavaRDD-org.apache.hadoop.fs.Path-com.cloudera.oryx.api.TopicProducer-">publishAdditionalModelData</a></span>(org.apache.spark.api.java.JavaSparkContext&nbsp;sparkContext,
                          org.dmg.pmml.PMML&nbsp;pmml,
                          org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;newData,
                          org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;pastData,
                          org.apache.hadoop.fs.Path&nbsp;modelParentPath,
                          <a href="../../../../com/cloudera/oryx/api/TopicProducer.html" title="interface in com.cloudera.oryx.api">TopicProducer</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;modelUpdateTopic)</code>
<div class="block">Optionally, publish additional model-related information to the update topic,
 after the model has been written.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#runUpdate-org.apache.spark.api.java.JavaSparkContext-long-org.apache.spark.api.java.JavaPairRDD-org.apache.spark.api.java.JavaPairRDD-java.lang.String-com.cloudera.oryx.api.TopicProducer-">runUpdate</a></span>(org.apache.spark.api.java.JavaSparkContext&nbsp;sparkContext,
         long&nbsp;timestamp,
         org.apache.spark.api.java.JavaPairRDD&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;newKeyMessageData,
         org.apache.spark.api.java.JavaPairRDD&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;pastKeyMessageData,
         <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;modelDirString,
         <a href="../../../../com/cloudera/oryx/api/TopicProducer.html" title="interface in com.cloudera.oryx.api">TopicProducer</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;modelUpdateTopic)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/cloudera/oryx/common/collection/Pair.html" title="class in com.cloudera.oryx.common.collection">Pair</a>&lt;org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;,org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#splitNewDataToTrainTest-org.apache.spark.api.java.JavaRDD-">splitNewDataToTrainTest</a></span>(org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;newData)</code>
<div class="block">Default implementation which randomly splits new data into train/test sets.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MODEL_FILE_NAME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MODEL_FILE_NAME</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> MODEL_FILE_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.cloudera.oryx.ml.MLUpdate.MODEL_FILE_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MLUpdate-com.typesafe.config.Config-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MLUpdate</h4>
<pre>protected&nbsp;MLUpdate(com.typesafe.config.Config&nbsp;config)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTestFraction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTestFraction</h4>
<pre>protected final&nbsp;double&nbsp;getTestFraction()</pre>
</li>
</ul>
<a name="getHyperParameterValues--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHyperParameterValues</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/cloudera/oryx/ml/param/HyperParamValues.html" title="interface in com.cloudera.oryx.ml.param">HyperParamValues</a>&lt;?&gt;&gt;&nbsp;getHyperParameterValues()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of hyperparameter value ranges to try, one <a href="../../../../com/cloudera/oryx/ml/param/HyperParamValues.html" title="interface in com.cloudera.oryx.ml.param"><code>HyperParamValues</code></a> per
  hyperparameter. Different combinations of the values derived from the list will be
  passed back into <a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#buildModel-org.apache.spark.api.java.JavaSparkContext-org.apache.spark.api.java.JavaRDD-java.util.List-org.apache.hadoop.fs.Path-"><code>buildModel(JavaSparkContext,JavaRDD,List,Path)</code></a></dd>
</dl>
</li>
</ul>
<a name="buildModel-org.apache.spark.api.java.JavaSparkContext-org.apache.spark.api.java.JavaRDD-java.util.List-org.apache.hadoop.fs.Path-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildModel</h4>
<pre>public abstract&nbsp;org.dmg.pmml.PMML&nbsp;buildModel(org.apache.spark.api.java.JavaSparkContext&nbsp;sparkContext,
                                             org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;trainData,
                                             <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;?&gt;&nbsp;hyperParameters,
                                             org.apache.hadoop.fs.Path&nbsp;candidatePath)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sparkContext</code> - active Spark Context</dd>
<dd><code>trainData</code> - training data on which to build a model</dd>
<dd><code>hyperParameters</code> - ordered list of hyper parameter values to use in building model</dd>
<dd><code>candidatePath</code> - directory where additional model files can be written</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>PMML</code> representation of a model trained on the given data</dd>
</dl>
</li>
</ul>
<a name="canPublishAdditionalModelData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canPublishAdditionalModelData</h4>
<pre>public&nbsp;boolean&nbsp;canPublishAdditionalModelData()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> iff additional updates must be published along with the model; if
  <a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#publishAdditionalModelData-org.apache.spark.api.java.JavaSparkContext-org.dmg.pmml.PMML-org.apache.spark.api.java.JavaRDD-org.apache.spark.api.java.JavaRDD-org.apache.hadoop.fs.Path-com.cloudera.oryx.api.TopicProducer-"><code>publishAdditionalModelData(JavaSparkContext, PMML, JavaRDD, JavaRDD, Path, TopicProducer)</code></a> must
  be called. This is only applicable for special model types.</dd>
</dl>
</li>
</ul>
<a name="publishAdditionalModelData-org.apache.spark.api.java.JavaSparkContext-org.dmg.pmml.PMML-org.apache.spark.api.java.JavaRDD-org.apache.spark.api.java.JavaRDD-org.apache.hadoop.fs.Path-com.cloudera.oryx.api.TopicProducer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishAdditionalModelData</h4>
<pre>public&nbsp;void&nbsp;publishAdditionalModelData(org.apache.spark.api.java.JavaSparkContext&nbsp;sparkContext,
                                       org.dmg.pmml.PMML&nbsp;pmml,
                                       org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;newData,
                                       org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;pastData,
                                       org.apache.hadoop.fs.Path&nbsp;modelParentPath,
                                       <a href="../../../../com/cloudera/oryx/api/TopicProducer.html" title="interface in com.cloudera.oryx.api">TopicProducer</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;modelUpdateTopic)</pre>
<div class="block">Optionally, publish additional model-related information to the update topic,
 after the model has been written. This is needed only in specific cases, like the
 ALS algorithm, where the model serialization in PMML can't contain all of the info.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sparkContext</code> - active Spark Context</dd>
<dd><code>pmml</code> - model for which extra data should be written</dd>
<dd><code>newData</code> - data that has arrived in current interval</dd>
<dd><code>pastData</code> - all previously-known data (may be <code>null</code>)</dd>
<dd><code>modelParentPath</code> - directory containing model files, if applicable</dd>
<dd><code>modelUpdateTopic</code> - message topic to write to</dd>
</dl>
</li>
</ul>
<a name="evaluate-org.apache.spark.api.java.JavaSparkContext-org.dmg.pmml.PMML-org.apache.hadoop.fs.Path-org.apache.spark.api.java.JavaRDD-org.apache.spark.api.java.JavaRDD-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evaluate</h4>
<pre>public abstract&nbsp;double&nbsp;evaluate(org.apache.spark.api.java.JavaSparkContext&nbsp;sparkContext,
                                org.dmg.pmml.PMML&nbsp;model,
                                org.apache.hadoop.fs.Path&nbsp;modelParentPath,
                                org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;testData,
                                org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;trainData)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sparkContext</code> - active Spark Context</dd>
<dd><code>model</code> - model to evaluate</dd>
<dd><code>modelParentPath</code> - directory containing model files, if applicable</dd>
<dd><code>testData</code> - data on which to test the model performance</dd>
<dd><code>trainData</code> - data on which model was trained, which can also be useful in evaluating
  unsupervised learning problems</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an evaluation of the model on the test data. Higher should mean "better"</dd>
</dl>
</li>
</ul>
<a name="runUpdate-org.apache.spark.api.java.JavaSparkContext-long-org.apache.spark.api.java.JavaPairRDD-org.apache.spark.api.java.JavaPairRDD-java.lang.String-com.cloudera.oryx.api.TopicProducer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runUpdate</h4>
<pre>public&nbsp;void&nbsp;runUpdate(org.apache.spark.api.java.JavaSparkContext&nbsp;sparkContext,
                      long&nbsp;timestamp,
                      org.apache.spark.api.java.JavaPairRDD&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;newKeyMessageData,
                      org.apache.spark.api.java.JavaPairRDD&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;pastKeyMessageData,
                      <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;modelDirString,
                      <a href="../../../../com/cloudera/oryx/api/TopicProducer.html" title="interface in com.cloudera.oryx.api">TopicProducer</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;modelUpdateTopic)
               throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                      <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/cloudera/oryx/api/batch/BatchLayerUpdate.html#runUpdate-org.apache.spark.api.java.JavaSparkContext-long-org.apache.spark.api.java.JavaPairRDD-org.apache.spark.api.java.JavaPairRDD-java.lang.String-com.cloudera.oryx.api.TopicProducer-">runUpdate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/cloudera/oryx/api/batch/BatchLayerUpdate.html" title="interface in com.cloudera.oryx.api.batch">BatchLayerUpdate</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sparkContext</code> - Spark context</dd>
<dd><code>timestamp</code> - timestamp of current interval</dd>
<dd><code>newKeyMessageData</code> - data that has arrived in current interval</dd>
<dd><code>pastKeyMessageData</code> - all previously-known data (may be <code>null</code>)</dd>
<dd><code>modelDirString</code> - String representation of path where models should be output, if desired</dd>
<dd><code>modelUpdateTopic</code> - topic to push models onto, if desired. Note that this may be <code>null</code>
  if the application is configured to not produce updates to a topic</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an error occurs during execution of the update function</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the caller is interrupted waiting for parallel tasks
  to complete</dd>
</dl>
</li>
</ul>
<a name="splitNewDataToTrainTest-org.apache.spark.api.java.JavaRDD-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>splitNewDataToTrainTest</h4>
<pre>protected&nbsp;<a href="../../../../com/cloudera/oryx/common/collection/Pair.html" title="class in com.cloudera.oryx.common.collection">Pair</a>&lt;org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;,org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&gt;&nbsp;splitNewDataToTrainTest(org.apache.spark.api.java.JavaRDD&lt;<a href="../../../../com/cloudera/oryx/ml/MLUpdate.html" title="type parameter in MLUpdate">M</a>&gt;&nbsp;newData)</pre>
<div class="block">Default implementation which randomly splits new data into train/test sets.
 This handles the case where <a href="../../../../com/cloudera/oryx/ml/MLUpdate.html#getTestFraction--"><code>getTestFraction()</code></a> is not 0 or 1.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newData</code> - data that has arrived in the current input batch</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../../../../com/cloudera/oryx/common/collection/Pair.html" title="class in com.cloudera.oryx.common.collection"><code>Pair</code></a> of train, test <code>RDD</code>s.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MLUpdate.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/cloudera/oryx/ml/MLUpdate.html" target="_top">Frames</a></li>
<li><a href="MLUpdate.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014&#x2013;2016. All rights reserved.</small></p>
</body>
</html>
